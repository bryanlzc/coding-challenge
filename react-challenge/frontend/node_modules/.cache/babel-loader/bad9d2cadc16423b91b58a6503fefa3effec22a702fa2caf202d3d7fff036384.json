{"ast":null,"code":"var _jsxFileName = \"/Users/bryanlee/Documents/sq/frontend-coding-challenge/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StoreList() {\n  _s();\n  const [stores, setStores] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [authors, setAuthors] = useState([]);\n  const [countries, setCountries] = useState([]);\n  const [flags, setFlags] = useState([]);\n  const API_KEY = 'your_api_key'; // Replace with your actual API key\n\n  useEffect(() => {\n    // Fetch stores, books, and authors from the backend\n    fetch('http://localhost:3000/stores').then(response => response.json()).then(data => setStores((data === null || data === void 0 ? void 0 : data.data) || [])).catch(error => console.error('Error fetching stores:', error));\n    fetch('http://localhost:3000/books').then(response => response.json()).then(data => setBooks((data === null || data === void 0 ? void 0 : data.data) || [])).catch(error => console.error('Error fetching books:', error));\n    fetch('http://localhost:3000/authors').then(response => response.json()).then(data => setAuthors((data === null || data === void 0 ? void 0 : data.data) || [])).catch(error => console.error('Error fetching authors:', error));\n    fetch('http://localhost:3000/countries').then(response => response.json()).then(data => {\n      var _data$data;\n      setCountries((data === null || data === void 0 ? void 0 : data.data) || []);\n      data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.forEach(country => fetchFlag(country.attributes.code));\n    }).catch(error => console.error('Error fetching countries:', error));\n  }, []);\n\n  // Helper function to format the date as dd.mm.yyyy\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    const day = String(date.getDate()).padStart(2, '0');\n    const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are 0-based\n    const year = date.getFullYear();\n    return `${day}.${month}.${year}`;\n  };\n\n  // Helper function to get books for each store (by matching book IDs)\n  const getStoreBooks = storeBooks => {\n    if (!storeBooks || !Array.isArray(storeBooks)) {\n      return [];\n    }\n    const relatedBooks = storeBooks.map(bookRel => books.find(book => book.id === bookRel.id));\n    const sortedBooks = relatedBooks.filter(book => book).sort((a, b) => b.attributes.copiesSold - a.attributes.copiesSold);\n    return sortedBooks.slice(0, 2);\n  };\n\n  // Helper function to get the author of a book (by matching author ID)\n  const getBookAuthor = book => {\n    if (!book || !book.relationships || !book.relationships.author) return 'Unknown';\n    const authorId = book.relationships.author.data.id;\n    const author = authors.find(author => author.id === authorId);\n    return author ? author.attributes.fullName : 'Unknown Author';\n  };\n  const StarRating = ({\n    rating\n  }) => {\n    const totalStars = 5; // Maximum stars\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: starRatingStyle,\n      children: Array.from({\n        length: totalStars\n      }, (v, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: i < rating ? '#FFD700' : '#ccc'\n        },\n        children: \"\\u2605\"\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this);\n  };\n  const getCountryCode = countryId => {\n    const country = countries.find(c => c.id === countryId);\n    return country ? country.attributes.code : 'Unknown';\n  };\n  const fetchFlag = countryCode => {\n    fetch(`https://restcountries.com/v2/alpha/${countryCode}`).then(response => response.json()).then(data => {\n      // Set the flag URL in the state, keyed by the country code\n      setFlags(prevFlags => ({\n        ...prevFlags,\n        [countryCode]: data.flag\n      }));\n    }).catch(error => console.error(`Error fetching flag for ${countryCode}:`, error));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: containerWrapperStyle,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: storeListStyle,\n      children: stores.map(store => {\n        var _store$attributes, _store$attributes2, _store$attributes3, _store$attributes4, _store$relationships, _store$relationships$, _store$relationships2, _store$relationships3, _store$attributes5, _store$attributes6;\n        const countryCode = getCountryCode(store.relationships.countries.data.id);\n        const flagUrl = flags[countryCode]; // Get flag URL from state\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: storeCardStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: countryStyle,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: flagUrl,\n              alt: `Flag of ${countryCode}`,\n              style: flagImageStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StarRating, {\n            rating: ((_store$attributes = store.attributes) === null || _store$attributes === void 0 ? void 0 : _store$attributes.rating) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: storeDetailsStyle,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: ((_store$attributes2 = store.attributes) === null || _store$attributes2 === void 0 ? void 0 : _store$attributes2.storeImage) || 'https://via.placeholder.com/150',\n              alt: ((_store$attributes3 = store.attributes) === null || _store$attributes3 === void 0 ? void 0 : _store$attributes3.name) || 'Unknown Store',\n              style: imageStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: infoContainerStyle,\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: ((_store$attributes4 = store.attributes) === null || _store$attributes4 === void 0 ? void 0 : _store$attributes4.name) || 'Unknown Store'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                style: tableStyle,\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"th\", {\n                      colSpan: \"2\",\n                      style: thHeaderStyle,\n                      children: \"Best-Selling Books\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: getStoreBooks(((_store$relationships = store.relationships) === null || _store$relationships === void 0 ? void 0 : (_store$relationships$ = _store$relationships.books) === null || _store$relationships$ === void 0 ? void 0 : _store$relationships$.data) || []).length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"2\",\n                      style: thTdStyle,\n                      children: \"No Data Available\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 25\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 23\n                  }, this) : getStoreBooks(((_store$relationships2 = store.relationships) === null || _store$relationships2 === void 0 ? void 0 : (_store$relationships3 = _store$relationships2.books) === null || _store$relationships3 === void 0 ? void 0 : _store$relationships3.data) || []).map((book, index) => {\n                    var _book$attributes;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: thTdStyle,\n                        children: (book === null || book === void 0 ? void 0 : (_book$attributes = book.attributes) === null || _book$attributes === void 0 ? void 0 : _book$attributes.name) || 'Unknown Book'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: thTdStyle,\n                        children: getBookAuthor(book)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 135,\n                        columnNumber: 27\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 25\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [formatDate(((_store$attributes5 = store.attributes) === null || _store$attributes5 === void 0 ? void 0 : _store$attributes5.establishmentDate) || new Date()), \" - \", (_store$attributes6 = store.attributes) === null || _store$attributes6 === void 0 ? void 0 : _store$attributes6.website]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, store.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n// Styles\n_s(StoreList, \"c6C95q8vc+gwYUUzjDygmpY9z44=\");\n_c = StoreList;\nconst containerWrapperStyle = {\n  textAlign: 'center',\n  padding: '20px'\n};\nconst storeListStyle = {\n  display: 'flex',\n  flexDirection: 'column',\n  gap: '20px',\n  alignItems: 'center'\n};\nconst storeCardStyle = {\n  border: '1px solid #ccc',\n  borderRadius: '10px',\n  padding: '20px',\n  width: '1500px',\n  // Set a fixed width for the store cards\n  boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\n  textAlign: 'left',\n  fontSize: '25px',\n  position: 'relative'\n};\nconst storeDetailsStyle = {\n  display: 'flex',\n  alignItems: 'center',\n  gap: '100px'\n};\nconst imageStyle = {\n  width: '250px',\n  // Fixed width\n  height: '250px',\n  // Fixed height\n  objectFit: 'cover',\n  // Scale the image down without cropping\n  borderRadius: '50%',\n  border: '2px solid #ccc'\n};\nconst infoContainerStyle = {\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center'\n};\nconst tableStyle = {\n  width: '1000px',\n  borderCollapse: 'collapse',\n  tableLayout: 'fixed'\n};\nconst thTdStyle = {\n  border: '1px solid #000',\n  // Black border for table headers and cells\n  padding: '10px' // Padding inside the cells for readability\n};\nconst thHeaderStyle = {\n  textAlign: 'left',\n  backgroundColor: '#f5f5f5',\n  padding: '10px',\n  fontWeight: 'bold',\n  border: '1px solid #000' // Add border to the header as well\n};\nconst starRatingStyle = {\n  position: 'absolute',\n  top: '10px',\n  right: '10px',\n  // Position it to the top-right corner\n  fontSize: '20px' // Size of the stars\n};\nconst countryStyle = {\n  position: 'absolute',\n  bottom: '10px',\n  right: '10px',\n  // Position it to the top-right corner\n  fontSize: '20px' // Size of the stars\n};\nconst flagImageStyle = {\n  width: '50px',\n  // Fixed width\n  height: '50px',\n  // Fixed height\n  objectFit: 'cover',\n  // Scale the image down without cropping\n  borderRadius: '50%',\n  border: '2px solid #ccc'\n};\nexport default StoreList;\nvar _c;\n$RefreshReg$(_c, \"StoreList\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","StoreList","_s","stores","setStores","books","setBooks","authors","setAuthors","countries","setCountries","flags","setFlags","API_KEY","fetch","then","response","json","data","catch","error","console","_data$data","forEach","country","fetchFlag","attributes","code","formatDate","dateString","date","Date","day","String","getDate","padStart","month","getMonth","year","getFullYear","getStoreBooks","storeBooks","Array","isArray","relatedBooks","map","bookRel","find","book","id","sortedBooks","filter","sort","a","b","copiesSold","slice","getBookAuthor","relationships","author","authorId","fullName","StarRating","rating","totalStars","style","starRatingStyle","children","from","length","v","i","color","fileName","_jsxFileName","lineNumber","columnNumber","getCountryCode","countryId","c","countryCode","prevFlags","flag","containerWrapperStyle","storeListStyle","store","_store$attributes","_store$attributes2","_store$attributes3","_store$attributes4","_store$relationships","_store$relationships$","_store$relationships2","_store$relationships3","_store$attributes5","_store$attributes6","flagUrl","storeCardStyle","countryStyle","src","alt","flagImageStyle","storeDetailsStyle","storeImage","name","imageStyle","infoContainerStyle","tableStyle","colSpan","thHeaderStyle","thTdStyle","index","_book$attributes","establishmentDate","website","_c","textAlign","padding","display","flexDirection","gap","alignItems","border","borderRadius","width","boxShadow","fontSize","position","height","objectFit","justifyContent","borderCollapse","tableLayout","backgroundColor","fontWeight","top","right","bottom","$RefreshReg$"],"sources":["/Users/bryanlee/Documents/sq/frontend-coding-challenge/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction StoreList() {\n  const [stores, setStores] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [authors, setAuthors] = useState([]);\n  const [countries, setCountries] = useState([]);\n  const [flags, setFlags] = useState([])\n  const API_KEY = 'your_api_key'; // Replace with your actual API key\n\n  useEffect(() => {\n    // Fetch stores, books, and authors from the backend\n    fetch('http://localhost:3000/stores')\n      .then((response) => response.json())\n      .then((data) => setStores(data?.data || []))\n      .catch((error) => console.error('Error fetching stores:', error));\n\n    fetch('http://localhost:3000/books')\n      .then((response) => response.json())\n      .then((data) => setBooks(data?.data || []))\n      .catch((error) => console.error('Error fetching books:', error));\n\n    fetch('http://localhost:3000/authors')\n      .then((response) => response.json())\n      .then((data) => setAuthors(data?.data || []))\n      .catch((error) => console.error('Error fetching authors:', error));\n\n    fetch('http://localhost:3000/countries')\n      .then((response) => response.json())\n      .then((data) => {\n        setCountries(data?.data || []);\n        data?.data?.forEach((country) => fetchFlag(country.attributes.code))\n      })\n      .catch((error) => console.error('Error fetching countries:', error));\n  }, []);\n\n  // Helper function to format the date as dd.mm.yyyy\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    const day = String(date.getDate()).padStart(2, '0');\n    const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are 0-based\n    const year = date.getFullYear();\n    return `${day}.${month}.${year}`;\n  };\n\n  // Helper function to get books for each store (by matching book IDs)\n  const getStoreBooks = (storeBooks) => {\n    if (!storeBooks || !Array.isArray(storeBooks)) {\n      return [];\n    }\n    const relatedBooks = storeBooks.map(bookRel => books.find(book => book.id === bookRel.id));\n    const sortedBooks = relatedBooks.filter(book => book).sort((a,b) => b.attributes.copiesSold - a.attributes.copiesSold)\n\n    return sortedBooks.slice(0,2)\n  };\n\n  // Helper function to get the author of a book (by matching author ID)\n  const getBookAuthor = (book) => {\n    if (!book || !book.relationships || !book.relationships.author) return 'Unknown';\n    const authorId = book.relationships.author.data.id;\n    const author = authors.find(author => author.id === authorId);\n    return author ? author.attributes.fullName : 'Unknown Author';\n  };\n\n  const StarRating = ({ rating }) => {\n    const totalStars = 5; // Maximum stars\n    return (\n      <div style={starRatingStyle}>\n        {Array.from({ length: totalStars }, (v, i) => (\n          <span key={i} style={{ color: i < rating ? '#FFD700' : '#ccc' }}>â˜…</span>\n        ))}\n      </div>\n    );\n  };\n\n  const getCountryCode = (countryId) => {\n    const country = countries.find(c => c.id === countryId);\n    return country ? country.attributes.code : 'Unknown';\n  };\n\n  const fetchFlag = (countryCode) => {\n    fetch(`https://restcountries.com/v2/alpha/${countryCode}`)\n      .then(response => response.json())\n      .then(data => {\n        // Set the flag URL in the state, keyed by the country code\n        setFlags(prevFlags => ({ ...prevFlags, [countryCode]: data.flag }));\n      })\n      .catch(error => console.error(`Error fetching flag for ${countryCode}:`, error));\n  };\n\n  return (\n    <div style={containerWrapperStyle}>\n      <div style={storeListStyle}>\n        {stores.map((store) => {\n          const countryCode = getCountryCode(store.relationships.countries.data.id);\n          const flagUrl = flags[countryCode]; // Get flag URL from state\n        return (\n          <div key={store.id} style={storeCardStyle}>\n            {/* Star rating at the top-right corner */}\n            <div style={countryStyle}>  \n              <img \n                src={flagUrl}\n                alt={`Flag of ${countryCode}`}\n                style={flagImageStyle}\n              />\n            </div>\n            <StarRating rating={store.attributes?.rating || 0} />\n            <div style={storeDetailsStyle}>\n              <img \n                src={store.attributes?.storeImage || 'https://via.placeholder.com/150'} \n                alt={store.attributes?.name || 'Unknown Store'} \n                style={imageStyle} \n              />\n\n              {/* Store Info (name, rating, website) */}\n              <div style={infoContainerStyle}>\n                <h2>{store.attributes?.name || 'Unknown Store'}</h2>\n\n                {/* Table displaying Best-Selling Books */}\n                <table style={tableStyle}>\n                  <thead>\n                    <tr>\n                      <th colSpan=\"2\" style={thHeaderStyle}>Best-Selling Books</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {getStoreBooks(store.relationships?.books?.data || []).length === 0 ? (\n                      <tr>\n                        <td colSpan=\"2\" style={thTdStyle}>No Data Available</td> {/* Single row for \"No Books\" */}\n                      </tr>\n                    ) : (\n                      getStoreBooks(store.relationships?.books?.data || []).map((book, index) => (\n                        <tr key={index}>\n                          <td style={thTdStyle}>{book?.attributes?.name || 'Unknown Book'}</td>\n                          <td style={thTdStyle}>{getBookAuthor(book)}</td>\n                        </tr>\n                      ))\n                    )}\n                  </tbody>\n                </table>\n\n             </div>\n            </div>\n\n            {/* Display formatted establishment date */}\n            <p>{formatDate(store.attributes?.establishmentDate || new Date())} - {store.attributes?.website}</p>\n          </div>\n        )})}\n      </div>\n    </div>\n  );\n}\n\n// Styles\nconst containerWrapperStyle = {\n  textAlign: 'center',\n  padding: '20px',\n};\n\nconst storeListStyle = {\n  display: 'flex',\n  flexDirection: 'column',\n  gap: '20px',\n  alignItems: 'center',\n};\n\nconst storeCardStyle = {\n  border: '1px solid #ccc',\n  borderRadius: '10px',\n  padding: '20px',\n  width: '1500px',           // Set a fixed width for the store cards\n  boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\n  textAlign: 'left',\n  fontSize: '25px',\n  position: 'relative'\n};\n\nconst storeDetailsStyle = {\n  display: 'flex',\n  alignItems: 'center',\n  gap: '100px',\n};\n\nconst imageStyle = {\n  width: '250px',          // Fixed width\n  height: '250px',         // Fixed height\n  objectFit: 'cover',    // Scale the image down without cropping\n  borderRadius: '50%',\n  border: '2px solid #ccc',\n};\n\nconst infoContainerStyle = {\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n};\n\nconst tableStyle = {\n  width: '1000px',\n  borderCollapse: 'collapse',\n  tableLayout: 'fixed',\n};\n\nconst thTdStyle = {\n  border: '1px solid #000',  // Black border for table headers and cells\n  padding: '10px',           // Padding inside the cells for readability\n};\n\nconst thHeaderStyle = {\n  textAlign: 'left',\n  backgroundColor: '#f5f5f5',\n  padding: '10px',\n  fontWeight: 'bold',\n  border: '1px solid #000',  // Add border to the header as well\n};\n\nconst starRatingStyle = {\n  position: 'absolute',\n  top: '10px',\n  right: '10px',  // Position it to the top-right corner\n  fontSize: '20px',  // Size of the stars\n};\n\nconst countryStyle = {\n  position: 'absolute',\n  bottom: '10px',\n  right: '10px',  // Position it to the top-right corner\n  fontSize: '20px',  // Size of the stars\n};\n\nconst flagImageStyle = {\n  width: '50px',          // Fixed width\n  height: '50px',         // Fixed height\n  objectFit: 'cover',    // Scale the image down without cropping\n  borderRadius: '50%',\n  border: '2px solid #ccc',\n};\n\nexport default StoreList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}